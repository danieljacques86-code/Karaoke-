<!DOCTYPE html>

<html lang="pt-br">

<head>

<meta charset="UTF-8">

<title>WolfTV Play</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

body{background:#000;color:#fff;font-family:Arial;text-align:center}

input,button{width:90%;padding:12px;margin:8px;border-radius:6px;border:none}

button{background:#ff9800;color:#000;font-weight:bold}

#app{display:none}

iframe{width:100%;height:90vh;border:none}

</style>

<!-- Firebase -->

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>

const firebaseConfig = {

  apiKey: "SUA_API_KEY",

  authDomain: "SEU_PROJETO.firebaseapp.com",

  projectId: "SEU_PROJETO",

};

firebase.initializeApp(firebaseConfig);

const auth = firebase.auth();

const db = firebase.firestore();

</script>

</head>

<body>

<h2>üîê WolfTV Login</h2>

<div id="login">

  <input id="email" placeholder="Email">

  <input id="senha" type="password" placeholder="Senha">

  <button onclick="login()">Entrar</button>

  <p id="msg"></p>

</div>

<div id="app">

  <iframe src="https://wolftvplaypremium.blogspot.com"></iframe>

</div>

<script>

function login(){

  const email = email.value;

  const senha = senha.value;

  auth.signInWithEmailAndPassword(email, senha)

  .then(res=>{

    verificarAcesso(res.user);

  })

  .catch(()=>msg.innerText="Login inv√°lido");

}

function verificarAcesso(user){

  const adminEmail = "bofab27391@markuto.com";

  if(user.email === adminEmail){

    liberar();

    return;

  }

  const ref = db.collection("users").doc(user.uid);

  ref.get().then(doc=>{

    if(!doc.exists){

      ref.set({inicio: Date.now()});

      liberar();

    } else {

      const dias = (Date.now() - doc.data().inicio) / 86400000;

      if(dias <= 7){

        liberar();

      } else {

        alert("‚õî Teste expirado");

        auth.signOut();

      }

    }

  });

}

function liberar(){

  document.getElementById("login").style.display="none";

  document.getElementById("app").style.display="block";

}

</script>

</body>

</html>
