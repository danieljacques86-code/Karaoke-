<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IPTV AUTOM√ÅTICO VIP</title>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<style>
body{
margin:0;
font-family:Arial;
color:white;
text-align:center;
overflow:hidden;
background:black;
}

#bg{
position:fixed;
min-width:100%;
min-height:100%;
z-index:-1;
filter:brightness(0.25);
}

.login{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
background:rgba(0,0,0,0.9);
padding:30px;
border-radius:15px;
}

input{padding:12px;margin:8px;border-radius:8px;border:none}
button{padding:12px 18px;border:none;border-radius:10px;background:orange;color:white;font-weight:bold}

#painel{display:none}

video{
width:95%;
max-width:900px;
height:260px;
border-radius:12px;
margin-top:10px;
}

.lista{
display:flex;
flex-wrap:wrap;
justify-content:center;
max-height:320px;
overflow:auto;
}

.card{
width:120px;
margin:5px;
background:#111;
border-radius:10px;
padding:8px;
cursor:pointer;
font-size:12px;
}
.card:hover{background:red}
</style>
</head>

<body>

<video autoplay muted loop id="bg">
<source src="https://assets-static.invideo.io/files/Generative_v30_b53e1e8491.mp4" type="video/mp4">
</video>

<div class="login" id="login">
<h2>üîí ACESSO VIP</h2>
<input id="user" placeholder="Usu√°rio"><br>
<input id="pass" type="password" placeholder="Senha"><br>
<button onclick="entrar()">ENTRAR</button>
</div>

<div id="painel">
<h2>üì∫ IPTV + MP3 AUTOM√ÅTICO</h2>
<video id="video" controls></video>
<div class="lista" id="lista"></div>
</div>

<script>
function entrar(){
if(user.value==="admin" && pass.value==="1234"){
login.style.display="none";
painel.style.display="block";
carregarLista();
}else{
alert("Senha errada");
}
}

var video = document.getElementById('video');
var audio = new Audio();

/* =========================================
üî• PLAYER UNIVERSAL MP3 + RADIO + IPTV + MP4
=========================================*/
function tocar(url){

// ================= MP3 RADIO =================
if(url.includes("google") || url.endsWith(".mp3")){

video.pause();
video.removeAttribute("src");
video.style.display="none";

// corrige Google Drive
if(url.includes("drive.google")){
url = url.replace("uc?export=download&id=","uc?export=open&id=");
}

audio.pause();
audio.src = url;
audio.crossOrigin="anonymous";
audio.load();

audio.play().then(()=>{
console.log("üéµ Tocando m√∫sica");
}).catch(()=>{
alert("üëâ Clique novamente na m√∫sica");
});

return;
}

// ================= IPTV M3U8 =================
if(url.includes(".m3u8")){
video.style.display="block";
audio.pause();

if(Hls.isSupported()){
var hls = new Hls();
hls.loadSource(url);
hls.attachMedia(video);
hls.on(Hls.Events.MANIFEST_PARSED,function(){
video.play();
});
}else{
video.src=url;
video.play();
}
return;
}

// ================= MP4 =================
video.style.display="block";
audio.pause();
video.src=url;
video.load();
video.play();
}

/* ===================================
üî• SUA LISTA GITHUB AQUI
===================================*/
var listaURL="https://raw.githubusercontent.com/danieljacques86-code/Listaplus/main/lista.m3u";

async function carregarLista(){
let res=await fetch(listaURL);
let txt=await res.text();

let linhas=txt.split("\n");
let nome="Canal";

for(let i=0;i<linhas.length;i++){

if(linhas[i].includes("#EXTINF")){
nome=linhas[i].split(",")[1];
}

if(linhas[i].includes("http")){
let url=linhas[i].trim();

let div=document.createElement("div");
div.className="card";
div.innerHTML=nome;
div.onclick=function(){tocar(url)};
lista.appendChild(div);
}
}
}
</script>

</body>
</html>
